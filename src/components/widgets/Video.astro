---
import { Image } from 'astro:assets';

interface Props {
  poster?: string | ImageMetadata; // TODO: Add poster, lo quite por problemas d performance 
  highResVideo?: string;
  lowResVideo?: string;
}

const {
  poster = import.meta.env.BASE_URL + 'images/fitless/video-poster.webp',
  highResVideo = import.meta.env.BASE_URL + 'videos/web.mp4',
  lowResVideo = import.meta.env.BASE_URL + 'videos/web480p.mp4',
} = Astro.props;
---

<div class="responsive-video-container">
  <video 
    controls
    autoplay
    muted 
    loop
  >
    <source src={highResVideo} type="video/mp4" media="(min-width: 1200px)">
    <source src={lowResVideo} type="video/mp4">
  </video>
</div>

<style>
  .responsive-video-container {
    position: relative;
    width: 100%;
    max-width: 2638px;
    margin: 0 auto;
    padding-bottom: 41%;
    height: 0;
    overflow: hidden;
    background-color: #f5f5f5;
  }
  
  .responsive-video-container video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style> 